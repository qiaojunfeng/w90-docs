
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Everything about wannier90...">
      
      
        <meta name="author" content="Wannier90 Developers">
      
      
      
        <link rel="prev" href="../code_overview/">
      
      
        <link rel="next" href="../library_mode/">
      
      
      <link rel="icon" href="../../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.9">
    
    
      
        <title>Post-processing - Wannier90</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.f2e4d321.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/timeago.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config",""),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#wannier90-as-a-post-processing-tool" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Wannier90" class="md-header__button md-logo" aria-label="Wannier90" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Wannier90
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Post-processing
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/wannier-developers/wannier90" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wannier-developers/wannier90
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../introduction/" class="md-tabs__link">
          
  
    
  
  User guide

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Wannier90" class="md-nav__button md-logo" aria-label="Wannier90" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89 89">
  <path d="M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z" />
  <path d="M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z" style="fill-opacity: 0.5" />
  <path d="M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z" />
  <path d="M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z" style="fill-opacity: 0.25" />
</svg>

    </a>
    Wannier90
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/wannier-developers/wannier90" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    wannier-developers/wannier90
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    User guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            User guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    wannier90.x
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            wannier90.x
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../methodology/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Methodology
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../parameters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parameters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../projections/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projections
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../code_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Post-processing
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Post-processing
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#seednamennkp-file" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.nnkp file
    </span>
  </a>
  
    <nav class="md-nav" aria-label="seedname.nnkp file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keywords" class="md-nav__link">
    <span class="md-ellipsis">
      Keywords
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#real_lattice-block" class="md-nav__link">
    <span class="md-ellipsis">
      Real_lattice block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recip_lattice-block" class="md-nav__link">
    <span class="md-ellipsis">
      Recip_lattice block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kpoints-block" class="md-nav__link">
    <span class="md-ellipsis">
      Kpoints block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projections-block" class="md-nav__link">
    <span class="md-ellipsis">
      Projections block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spinor_projections-block" class="md-nav__link">
    <span class="md-ellipsis">
      spinor_projections block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nnkpts-block" class="md-nav__link">
    <span class="md-ellipsis">
      nnkpts block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exclude_bands-block" class="md-nav__link">
    <span class="md-ellipsis">
      exclude_bands block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secauto-projections-block-labelsecauto-projections-blockauto_projections-block" class="md-nav__link">
    <span class="md-ellipsis">
      []{#sec:auto-projections-block label="sec:auto-projections-block"}auto_projections block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sec:proj_example" class="md-nav__link">
    <span class="md-ellipsis">
      An example of projections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seednamemmn-file" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.mmn file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seednameamn-file" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.amn file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seednamedmn-file" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.dmn file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seednameeig-file" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.eig file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface-with-pwscf" class="md-nav__link">
    <span class="md-ellipsis">
      Interface with pwscf
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interface with pwscf">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#seednamepw2wan" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.pw2wan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seednamesym" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.sym
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../library_mode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Library mode
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../transport/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Transport
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notes_interpolations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notes on interpolations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sample_inputs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sample inputs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    postw90.x
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            postw90.x
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postw90/berry/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Berry
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postw90/gyrotropic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Gyrotropic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postw90/boltzwann/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BoltzWann
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../postw90/geninterp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generic Band interpolation
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Appendices
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Appendices
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/utilities/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utilities
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendices/faq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FAQs
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#seednamennkp-file" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.nnkp file
    </span>
  </a>
  
    <nav class="md-nav" aria-label="seedname.nnkp file">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#keywords" class="md-nav__link">
    <span class="md-ellipsis">
      Keywords
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#real_lattice-block" class="md-nav__link">
    <span class="md-ellipsis">
      Real_lattice block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recip_lattice-block" class="md-nav__link">
    <span class="md-ellipsis">
      Recip_lattice block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kpoints-block" class="md-nav__link">
    <span class="md-ellipsis">
      Kpoints block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#projections-block" class="md-nav__link">
    <span class="md-ellipsis">
      Projections block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spinor_projections-block" class="md-nav__link">
    <span class="md-ellipsis">
      spinor_projections block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nnkpts-block" class="md-nav__link">
    <span class="md-ellipsis">
      nnkpts block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exclude_bands-block" class="md-nav__link">
    <span class="md-ellipsis">
      exclude_bands block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#secauto-projections-block-labelsecauto-projections-blockauto_projections-block" class="md-nav__link">
    <span class="md-ellipsis">
      []{#sec:auto-projections-block label="sec:auto-projections-block"}auto_projections block
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sec:proj_example" class="md-nav__link">
    <span class="md-ellipsis">
      An example of projections
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seednamemmn-file" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.mmn file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seednameamn-file" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.amn file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seednamedmn-file" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.dmn file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#seednameeig-file" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.eig file
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface-with-pwscf" class="md-nav__link">
    <span class="md-ellipsis">
      Interface with pwscf
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Interface with pwscf">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#seednamepw2wan" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.pw2wan
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#seednamesym" class="md-nav__link">
    <span class="md-ellipsis">
      seedname.sym
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/qiaojunfeng/w90-docs/edit/main/docs/user_guide/wannier90/postproc.md" title="Edit this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  
    
      
    
    <a href="https://github.com/qiaojunfeng/w90-docs/raw/main/docs/user_guide/wannier90/postproc.md" title="View source of this page" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg>
    </a>
  


<h1 id="wannier90-as-a-post-processing-tool"><code>wannier90</code> as a post-processing tool<a class="headerlink" href="#wannier90-as-a-post-processing-tool" title="Permanent link">&para;</a></h1>
<p>This is a description of how to use <code>wannier90</code> as a post-processing
tool.</p>
<p>The code must be run twice. On the first pass either the logical keyword
<code>postproc_setup</code> must be set to <code>.true.</code> in the input file
<code>seedname.win</code> or the code must be run with the command line option
<code>-pp</code>. Running the code then generates the file <code>seedname.nnkp</code> which
provides the information required to construct the
<span class="arithmatex">\(M_{mn}^{(\mathbf{k,b})}\)</span> overlaps (Ref. <sup id="fnref:ref1"><a class="footnote-ref" href="#fn:ref1">1</a></sup>, Eq. (25)) and
<span class="arithmatex">\(A_{mn}^{(\mathbf{k})}\)</span> (Ref. <sup id="fnref2:ref1"><a class="footnote-ref" href="#fn:ref1">1</a></sup>, Eq. (62);
Ref. <sup id="fnref:ref2"><a class="footnote-ref" href="#fn:ref2">2</a></sup>, Eq. (22)).</p>
<p>Once the overlaps and projection have been computed and written to files
<code>seedname.mmn</code> and <code>seedname.amn</code>, respectively, set <code>postproc_setup</code> to
<code>.false.</code> and run the code. Output is written to the file
<code>seedname.wout</code>.</p>
<h3 id="seednamennkp-file"><code>seedname.nnkp</code> file<a class="headerlink" href="#seednamennkp-file" title="Permanent link">&para;</a></h3>
<p>OUTPUT, if <span class="arithmatex">\(\verb#postproc_setup#=\verb#.true.#\)</span></p>
<p>The file <code>seedname.nnkp</code> provides the information needed to determine
the required overlap elements <span class="arithmatex">\(M_{mn}^{(\mathbf{k,b})}\)</span> and projections
<span class="arithmatex">\(A_{mn}^{(\mathbf{k})}\)</span>. It is written automatically when the code is
invoked with the <code>-pp</code> command-line option (or when
<code>postproc_setup=.true.</code> in <code>seedname.win</code>. There should be no need for
the user to edit this file.</p>
<p>Much of the information in <code>seedname.nnkp</code> is arranged in blocks
delimited by the strings <code>begin block_name</code> ... <code>end block_name</code>, as
described below.</p>
<h4 id="keywords">Keywords<a class="headerlink" href="#keywords" title="Permanent link">&para;</a></h4>
<p>The first line of the file is a user comment, e.g., the date and time:</p>
<p><code>File written on 12Feb2006 at 15:13:12</code></p>
<p>The only logical keyword is <code>calc_only_A</code>, eg,</p>
<p><code>calc_only_A  :  F</code></p>
<h4 id="real_lattice-block"><code>Real_lattice</code> block<a class="headerlink" href="#real_lattice-block" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code>begin real_lattice
 2.250000   0.000000   0.000000
 0.000000   2.250000   0.000000
 0.000000   0.000000   2.250000
end real_lattice
</code></pre></div>
<p>The real lattice vectors in units of Angstrom.</p>
<h4 id="recip_lattice-block"><code>Recip_lattice</code> block<a class="headerlink" href="#recip_lattice-block" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code>begin recip_lattice
 2.792527   0.000000   0.000000
 0.000000   2.792527   0.000000
 0.000000   0.000000   2.792527
end recip_lattice
</code></pre></div>
<p>The reciprocal lattice vectors in units of inverse Angstrom.</p>
<h4 id="kpoints-block"><code>Kpoints</code> block<a class="headerlink" href="#kpoints-block" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code>begin kpoints
  8
  0.00000   0.00000   0.00000
  0.00000   0.50000   0.00000
  .
  .
  .
  0.50000   0.50000   0.50000
end kpoints
</code></pre></div>
<p>The first line in the block is the total number of k-points <code>num_kpts</code>.
The subsequent <code>num_kpts</code> lines specify the k-points in crystallographic
co-ordinates relative to the reciprocal lattice vectors.</p>
<h4 id="projections-block"><code>Projections</code> block<a class="headerlink" href="#projections-block" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code>begin projections
   n_proj
   centre   l  mr  r   
     z-axis   x-axis   zona
   centre   l  mr  r   
     z-axis   x-axis   zona
   .
   .
end projections
</code></pre></div>
<p>Notes:</p>
<p><code>n_proj</code>: integer; the number of projection centres, equal to the number
of MLWF <code>num_wann</code>.</p>
<p><code>centre</code>: three real numbers; projection function centre in
crystallographic co-ordinates relative to the direct lattice vectors.</p>
<p><code>l  mr  r</code>: three integers; <span class="arithmatex">\(l\)</span> and <span class="arithmatex">\(m_\mathrm{r}\)</span> specify the angular
part <span class="arithmatex">\(\Theta_{lm_{\mathrm{r}}}(\theta,\varphi)\)</span>, and <span class="arithmatex">\(\mathrm{r}\)</span>
specifies the radial part <span class="arithmatex">\(R_{\mathrm{r}}(r)\)</span> of the projection function
(see Tables <a href="#tab:angular">3.1</a>{reference-type="ref"
reference="tab:angular"}, <a href="#tab:hybrids">3.2</a>{reference-type="ref"
reference="tab:hybrids"} and <a href="#tab:radial">3.3</a>{reference-type="ref"
reference="tab:radial"}).</p>
<p><code>z-axis</code>: three real numbers; default is <code>0.0 0.0 1.0</code>; defines the axis
from which the polar angle <span class="arithmatex">\(\theta\)</span> in spherical polar coordinates is
measured.</p>
<p><code>x-axis</code>: three real numbers; must be orthogonal to <code>z-axis</code>; default is
<code>1.0 0.0 0.0</code> or a vector perpendicular to <code>z-axis</code> if <code>z-axis</code> is
given; defines the axis from with the azimuthal angle <span class="arithmatex">\(\varphi\)</span> in
spherical polar coordinates is measured.</p>
<p><code>zona</code>: real number; the value of <span class="arithmatex">\(\frac{Z}{a}\)</span> associated with the
radial part of the atomic orbital. Units are in reciprocal Angstrom.</p>
<h4 id="spinor_projections-block"><code>spinor_projections</code> block<a class="headerlink" href="#spinor_projections-block" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code>begin spinor_projections
   n_proj
   centre   l  mr  r   
    z-axis   x-axis   zona
     spin spn_quant
   centre   l  mr  r   
    z-axis   x-axis   zona
     spin spn_quant
   .
   .
end spinor_projections
</code></pre></div>
<p>Notes: Only one of projections and spinor_projections should be defined.
Variables are the same as the projections block with the addition of
<code>spin</code> and <code>spn_quant</code>.</p>
<p><code>spin</code>: integer. '1' or '-1' to denote projection onto up or down
states.</p>
<p><code>spn_quant</code>: three real numbers. Defines the spin quantisation axis in
Cartesian coordinates.</p>
<h4 id="nnkpts-block"><code>nnkpts</code> block<a class="headerlink" href="#nnkpts-block" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code>begin nnkpts
  10
  1   2   0  0  0
  .
  .
end nnkpts
</code></pre></div>
<p>First line: <code>nntot</code>, the number of nearest neighbours belonging to each
k-point of the Monkhorst-Pack mesh</p>
<p>Subsequent lines: <code>nntot</code><span class="arithmatex">\(\times\)</span><code>num_kpts</code> lines, ie, <code>nntot</code> lines of
data for each k-point of the mesh.</p>
<p>Each line of consists of 5 integers. The first is the k-point number
<code>nkp</code>. The second to the fifth specify it's nearest neighbours
<span class="arithmatex">\(\mathbf{k+b}\)</span>: the second integer points to the k-point that is the
periodic image of the <span class="arithmatex">\(\mathbf{k+b}\)</span> that we want; the last three
integers give the G-vector, in reciprocal lattice units, that brings the
k-point specified by the second integer (which is in the first BZ) to
the actual <span class="arithmatex">\(\mathbf{k+b}\)</span> that we need.</p>
<h4 id="exclude_bands-block"><code>exclude_bands</code> block<a class="headerlink" href="#exclude_bands-block" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code>begin exclude_bands 
  8 
  1 
  2 
  .
  .
end exclude_bands
</code></pre></div>
<p>To exclude bands (independent of k-point) from the calculation of the
overlap and projection matrices, for example to ignore shallow-core
states. The first line is the number of states to exclude, the following
lines give the states for be excluded.</p>
<h4 id="secauto-projections-block-labelsecauto-projections-blockauto_projections-block">[]{#sec:auto-projections-block label="sec:auto-projections-block"}<code>auto_projections</code> block<a class="headerlink" href="#secauto-projections-block-labelsecauto-projections-blockauto_projections-block" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code>begin auto_projections
   8
   0
end auto_projections
</code></pre></div>
<p>This block is only printed if <code>auto_projections=true</code> in the input. The
choice of an additional block has been made in order to maintain
back-compatibility with codes that interface with <code>wannier90</code>, e.g.
<code>pw2wannier90</code>. The first entry in the block (in the example above, <code>8</code>)
is the total number of target projections and it is equal to the number
of sought Wannier functions.</p>
<p>The second entry is a reserved flag with the value of zero. The
implementations of the interface codes MUST check for this value to be
zero and stop otherwise. In the future, one possible extension that we
plan is to combine the automatic generation of initial projections with
the selection of projections via a projections block. This will allow
the user to specify only a subset of initial projections in the
projections block and leave the interface code to automatically generate
the remaining ones. In that case the constraint on the second entry will
be lifted, so that it can take on the meaning of the number of
projections that need to be generated automatically.</p>
<p>The selected columns of the density matrix (SCDM)
method <sup id="fnref:ref3"><a class="footnote-ref" href="#fn:ref3">3</a></sup> is one way of generating the initial
<span class="arithmatex">\(A_{mn}^{(\mathbf{k})}\)</span> in an automatic way. This has been implemented
in the <code>pw2wannier90</code> interface code (you need v6.3 with the files
provided in the <code>pwscf</code> folder of Wannier90, or v6.4), see for instance
Example 27 in the <code>wannier90</code> tutorial that shows how to use it.</p>
<p>Moreover, also the automatic generation of initial projections with
spinor WFs is implemented in the <code>pw2wannier90</code> interface. See Example
31 in the <code>wannier90</code> tutorial that shows how to use it.</p>
<p>Another automatic projection method is projectability-disentangled
Wannier function (PDWF) <sup id="fnref:ref4"><a class="footnote-ref" href="#fn:ref4">4</a></sup>, which uses pseudo-atomic
orbitals inside pseudopotentials as initial guesses. See Example 34 and
35.</p>
<h4 id="sec:proj_example">An example of projections<a class="headerlink" href="#sec:proj_example" title="Permanent link">&para;</a></h4>
<p>As a concrete example: one wishes to have a set of four sp<span class="arithmatex">\(^3\)</span>
projection orbitals on, say, a carbon atom at (0.5,0.5,0.5) in
fractional co-ordinates relative to the direct lattice vectors. In this
case <code>seedname.win</code> will contain the following lines:</p>
<div class="language-text highlight"><pre><span></span><code>begin projections
 C:l=-1
end projections
</code></pre></div>
<p>and <code>seedname.nnkp</code>, generated on the first pass of <code>wannier90</code> (with
<code>postproc_setup=T</code>), will contain:</p>
<div class="language-text highlight"><pre><span></span><code>begin projections
   4
   0.50000    0.50000    0.50000    -1  1  1
     0.000  0.000  1.000   1.000  0.000  0.000   2.00 
   0.50000    0.50000    0.50000    -1  2  1
     0.000  0.000  1.000   1.000  0.000  0.000   2.00 
   0.50000    0.50000    0.50000    -1  3  1
     0.000  0.000  1.000   1.000  0.000  0.000   2.00 
   0.50000    0.50000    0.50000    -1  4  1
     0.000  0.000  1.000   1.000  0.000  0.000   2.00 
end projections
</code></pre></div>
<p>where the first line tells us that in total four projections are
specified, and the subsquent lines provide the projection centre, the
angular and radial parts of the orbital (see
Section <a href="#sec:orbital-defs">3.4</a>{reference-type="ref"
reference="sec:orbital-defs"} for definitions), the <span class="arithmatex">\(z\)</span> and <span class="arithmatex">\(x\)</span> axes,
and the diffusivity and cut-off radius for the projection orbital.</p>
<p>[pwscf]{.smallcaps}, or any other <em>ab initio</em> electronic structure code,
then reads <code>seedname.nnkp</code> file, calculates the projections and writes
them to <code>seedname.amn</code>.</p>
<h3 id="seednamemmn-file"><code>seedname.mmn</code> file<a class="headerlink" href="#seednamemmn-file" title="Permanent link">&para;</a></h3>
<p>INPUT.</p>
<p>The file <code>seedname.mmn</code> contains the overlaps <span class="arithmatex">\(M_{mn}^{(\mathbf{k,b})}\)</span>.</p>
<p>First line: a user comment, e.g., the date and time</p>
<p>Second line: 3 integers: <code>num_bands</code>, <code>num_kpts</code>, <code>nntot</code></p>
<p>Then: <span class="arithmatex">\(\verb#num_kpts#\times\verb#nntot#\)</span> blocks of data:</p>
<p>First line of each block: 5 integers. The first specifies the
<span class="arithmatex">\(\mathbf{k}\)</span> (i.e., gives the ordinal corresponding to its position in
the list of k-points in <code>seedname.win</code>). The 2<sup>nd</sup> to 5<sup>th</sup> integers specify
<span class="arithmatex">\(\mathbf{k+b}\)</span>. The 2<sup>nd</sup> integer, in particular, points to the k-point on
the list that is a periodic image of <span class="arithmatex">\(\mathbf{k+b}\)</span>, and in particular
is the image that is actually mentioned in the list. The last three
integers specify the <span class="arithmatex">\(\mathbf{G}\)</span> vector, in reciprocal lattice units,
that brings the k-point specified by the second integer, and that thus
lives inside the first BZ zone, to the actual <span class="arithmatex">\(\mathbf{k+b}\)</span> that we
need.</p>
<p>Subsequent <span class="arithmatex">\(\verb#num_bands#\times\verb#num_bands#\)</span> lines of each block:
two real numbers per line. These are the real and imaginary parts,
respectively, of the actual scalar product <span class="arithmatex">\(M_{mn}^{(\mathbf{k,b})}\)</span> for
<span class="arithmatex">\(m,n \in [1,\verb#num_bands#]\)</span>. The order of these elements is such that
the first index <span class="arithmatex">\(m\)</span> is fastest.</p>
<h3 id="seednameamn-file"><code>seedname.amn</code> file<a class="headerlink" href="#seednameamn-file" title="Permanent link">&para;</a></h3>
<p>INPUT.</p>
<p>The file <code>seedname.amn</code> contains the projection <span class="arithmatex">\(A_{mn}^{(\mathbf{k})}\)</span>.</p>
<p>First line: a user comment, e.g., the date and time</p>
<p>Second line: 3 integers: <code>num_bands</code>, <code>num_kpts</code>, <code>num_wann</code></p>
<p>Subsequently
<span class="arithmatex">\(\verb#num_bands#\times\verb#num_wann#\times\verb#num_kpts#\)</span> lines: 3
integers and 2 real numbers on each line. The first two integers are the
band index <span class="arithmatex">\(m\)</span> and the projection index <span class="arithmatex">\(n\)</span>, respectively. The third
integer specifies the <span class="arithmatex">\(\mathbf{k}\)</span> by giving the ordinal corresponding
to its position in the list of <span class="arithmatex">\(k\)</span>-points in <code>seedname.win</code>. The real
numbers are the real and imaginary parts, respectively, of the actual
<span class="arithmatex">\(A_{mn}^{(\mathbf{k})}\)</span>.</p>
<h3 id="seednamedmn-file"><code>seedname.dmn</code> file<a class="headerlink" href="#seednamedmn-file" title="Permanent link">&para;</a></h3>
<p>INPUT.</p>
<p>The file <code>seedname.dmn</code> contains the data needed to construct
symmetry-adapted Wannier functions <sup id="fnref:ref5"><a class="footnote-ref" href="#fn:ref5">5</a></sup>. Required if
<code>site_symmetry = .true.</code></p>
<p>First line: a user comment, e.g., the date and time</p>
<p>Second line: 4 integers: <code>num_bands</code>, <code>nsymmetry</code>, <code>nkptirr</code>,
<code>num_kpts</code>.\
<code>nsymmetry</code>: the number of symmetry operations\
<code>nkptirr</code>: the number of irreducible k-points</p>
<p>Blank line</p>
<p><code>num_kpts</code> integers: Mapping between full k- and irreducible k-points.
Each k-point is related to some k-point in the irreducible BZ. The
information of this mapping is written. Each entry corresponds to a
k-point in the full BZ, in the order in which they appear in the k-point
list in <code>seedname.win</code> file. The (integer) value of each entry is the
k-point index in the IBZ to which the k-point maps. The number of unique
values is equal to the number of k-points in the IBZ. The data is
written 10 values per line.</p>
<p>Blank line</p>
<p><code>nkptirr</code> integers: List of irreducible k-points. Each entry corresponds
to a k-point of the IBZ. The (integer) value of each entry is the
k-point index corresponding to the k-point list in <code>seedname.win</code> file.
The values should be between 1 and <code>num_kpts</code>. The data is written 10
values per line.</p>
<p>Blank line</p>
<p><code>nkptirr</code> blocks of <code>nsymmetry</code> integer data (each block separated by a
blank line): List of k-points obtained by acting the symmetry operations
on the irreducible k-points. The data is written 10 values per line.</p>
<p>Blank line</p>
<p><span class="arithmatex">\(\verb#nsymmetry# \times \verb#nkptirr#\)</span> blocks of data:\
The information of <span class="arithmatex">\(D\)</span> matrix in Eq. (15) of Ref. <sup id="fnref2:ref5"><a class="footnote-ref" href="#fn:ref5">5</a></sup>. Each
block contains <span class="arithmatex">\(\verb#num_wann# \times \verb#num_wann#\)</span> lines and is
separated by a blank line. The data are stored in
<code>d_matrix_wann(m,n,isym,ikirr)</code> with
<span class="arithmatex">\(\verb#m#, \verb#n# \in [1,\verb#num_wann#]\)</span>,
<span class="arithmatex">\(\verb#isym# \in [1,\verb#nsymmetry#]\)</span>, and
<span class="arithmatex">\(\verb#ikirr# \in [1,\verb#nkptirr#]\)</span>. The order of the elements is such
that left indices run faster than right indices (<code>m</code>: fastest, <code>ikirr</code>:
slowest).</p>
<p>Blank line</p>
<p><span class="arithmatex">\(\verb#nsymmetry# \times \verb#nkptirr#\)</span> blocks of data:\
The information of <span class="arithmatex">\(\tilde d\)</span> matrix in Eq. (17) of
Ref. <sup id="fnref3:ref5"><a class="footnote-ref" href="#fn:ref5">5</a></sup>. Each block contains
<span class="arithmatex">\(\verb#num_bands# \times \verb#num_bands#\)</span> lines and is separated by a
blank line. The data are stored in <code>d_matrix_band(m,n,isym,ikirr)</code> with
<span class="arithmatex">\(\verb#m#, \verb#n# \in [1,\verb#num_bands#]\)</span>,
<span class="arithmatex">\(\verb#isym# \in [1,\verb#nsymmetry#]\)</span>, and
<span class="arithmatex">\(\verb#ikirr# \in [1,\verb#nkptirr#]\)</span>. The order of the elements is such
that left indices run faster than right indices (<code>m</code>: fastest, <code>ikirr</code>:
slowest).</p>
<h3 id="seednameeig-file"><code>seedname.eig</code> file<a class="headerlink" href="#seednameeig-file" title="Permanent link">&para;</a></h3>
<p>INPUT.</p>
<p>Required if any of <code>disentanglement</code>, <code>plot_bands</code>, <code>plot_fermi_surface</code>
or <code>write_hr</code> are <code>.true.</code></p>
<p>The file <code>seedname.eig</code> contains the Kohn-Sham eigenvalues
<span class="arithmatex">\(\varepsilon_{n\mathbf{k}}\)</span> (in eV) at each point in the Monkhorst-Pack
mesh.</p>
<p>Each line consist of two integers and a real number. The first integer
is the band index, the second integer gives the ordinal corresponding to
the <span class="arithmatex">\(k\)</span>-point in the list of <span class="arithmatex">\(k\)</span>-points in <code>seedname.win</code>, and the real
number is the eigenvalue.</p>
<p>E.g.,</p>
<div class="language-text highlight"><pre><span></span><code>           1           1  -6.43858831271328
           2           1   19.3977795287297
           3           1   19.3977795287297
           4           1   19.3977795287298
</code></pre></div>
<h3 id="interface-with-pwscf">Interface with pwscf<a class="headerlink" href="#interface-with-pwscf" title="Permanent link">&para;</a></h3>
<p>Interfaces between <code>wannier90</code> and many ab-initio codes such as
[pwscf]{.smallcaps}, abinit (<a href="http://www.abinit.org">http://www.abinit.org</a>), siesta
(<a href="http://www.icmab.es/siesta/">http://www.icmab.es/siesta/</a>), fleur, VASP and Wien2k
(<a href="http://www.wien2k.at">http://www.wien2k.at</a>) are available. Here we describe the seamless
interface between <code>wannier90</code> and [pwscf]{.smallcaps}, a plane-wave DFT
code that comes as part of the Quantum ESPRESSO package (see
<a href="http://www.quantum-espresso.org">http://www.quantum-espresso.org</a>). You will need to download and
compile [pwscf]{.smallcaps} (i.e., the <code>pw.x</code> code) and the
post-processing interface <code>pw2wannier90.x</code>. Please refer to the
documentation that comes with the Quantum ESPRESSO distribution for
instructions.</p>
<ol>
<li>
<p>Run 'scf'/'nscf' calculation(s) with <code>pw</code></p>
</li>
<li>
<p>Run <code>wannier90</code> with <code>postproc_setup</code> = <code>.true.</code> to generate
    <code>seedname.nnkp</code></p>
</li>
<li>
<p>Run <code>pw2wannier90</code>. First it reads an input file, e.g.,
    <code>seedname.pw2wan</code>, which defines <code>prefix</code> and <code>outdir</code> for the
    underlying 'scf' calculation, as well as the name of the file
    <code>seedname.nnkp</code>, and does a consistency check between the direct and
    reciprocal lattice vectors read from <code>seedname.nnkp</code> and those
    defined in the files specified by <code>prefix</code>. <code>pw2wannier90</code> generates
    <code>seedname.mmn</code>, <code>seedname.amn</code> and <code>seedname.eig</code>. <code>seedname.dmn</code>
    and <code>seedname.sym</code> files are additionally created when
    <code>write_dmn = .true.</code> (see below).</p>
</li>
<li>
<p>Run <code>wannier90</code> with <code>postproc_setup</code> = <code>.false.</code> to disentangle
    bands (if required), localise MLWF, and use MLWF for plotting,
    bandstructures, Fermi surfaces etc.</p>
</li>
</ol>
<p>Examples of how the interface with [pwscf]{.smallcaps} works are given
in the <code>wannier90</code> Tutorial.</p>
<h4 id="seednamepw2wan"><code>seedname.pw2wan</code><a class="headerlink" href="#seednamepw2wan" title="Permanent link">&para;</a></h4>
<p>A number of keywords may be specified in the <code>pw2wannier90</code> input file:</p>
<ul>
<li>
<p><code>outdir</code> -- Location to write output files. Default is <code>`./'</code></p>
</li>
<li>
<p><code>prefix</code> -- Prefix for the [pwscf]{.smallcaps} calculation. Default
    is <code>` '</code></p>
</li>
<li>
<p><code>seedname</code> -- Seedname for the <code>wannier90</code> calculation. Default is
    <code>`wannier'</code></p>
</li>
<li>
<p><code>spin_component</code> -- Spin component. Takes values <code>`up'</code>,
    <code>`down'</code> or <code>`none'</code> (default).</p>
</li>
<li>
<p><code>wan_mode</code> -- Either <code>`standalone'</code> (default) or <code>`library'</code></p>
</li>
<li>
<p><code>write_unk</code> -- Set to <code>.true.</code> to write the periodic part of the
    Bloch functions for plotting in <code>wannier90</code>. Default is <code>.false.</code></p>
</li>
<li>
<p><code>reduce_unk</code> -- Set to <code>.true.</code> to reduce file-size (and resolution)
    of Bloch functions by a factor of 8. Default is <code>.false.</code> (only
    relevant if <code>write_unk=.true.</code>)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that there is a small bug with this feature in v3.2 (and
subsequent patches) of <code>quantum-espresso</code>. Please use a later
version (if available) or the CVS version of <code>pw2wannier90.f90</code>,
which has been fixed.</p>
</div>
</li>
<li>
<p><code>wvfn_formatted</code> -- Set to <code>.true.</code> to write formatted
    wavefunctions. Default is <code>.false.</code> (only relevant if
    <code>write_unk=.true.</code>)</p>
</li>
<li>
<p><code>write_amn</code> -- Set to <code>.false.</code> if <span class="arithmatex">\(A_{mn}^{(\mathbf{k})}\)</span> not
    required. Default is <code>.true.</code></p>
</li>
<li>
<p><code>write_mmn</code> -- Set to <code>.false.</code> if <span class="arithmatex">\(M_{mn}^{(\mathbf{k,b})}\)</span> not
    required. Default is <code>.true.</code></p>
</li>
<li>
<p><code>write_spn</code> -- Set to <code>.true.</code> to write out the matrix elements of
    <span class="arithmatex">\(S\)</span> between Bloch states (non-collinear spin calculation only).
    Default is <code>.false.</code></p>
</li>
<li>
<p><code>spn_formatted</code> -- Set to <code>.true.</code> to write spn data as a formatted
    file. Default is <code>.false.</code> (only relevant if <code>write_spn=.true.</code>)</p>
</li>
<li>
<p><code>write_uHu</code> -- Set to <code>.true.</code> to write out the matrix elements
    <span class="arithmatex">\(<span class="arithmatex">\(\langle u_{n{\bf k}+{\bf b}_1}\vert
    H_{\bf k}\vert u_{m{\bf k}+{\bf b}_2}\rangle.\)</span>\)</span> Default is <code>.false.</code></p>
</li>
<li>
<p><code>uHu_formatted</code> -- Set to <code>.true.</code> to write uHu data as a formatted
    file. Default is <code>.false.</code> (only relevant if <code>write_uHu=.true.</code>)</p>
</li>
<li>
<p><code>write_uIu</code> -- Set to <code>.true.</code> to write out the matrix elements of
    <span class="arithmatex">\(<span class="arithmatex">\(\langle  u_{n{\bf k}+{\bf b}_1}\vert
    u_{m{\bf k}+{\bf b}_2}\rangle.\)</span>\)</span> Default is <code>.false.</code></p>
</li>
<li>
<p><code>uIu_formatted</code> -- Set to <code>.true.</code> to write uIu data as a formatted
    file. Default is <code>.false.</code> (only relevant if <code>write_uIu=.true.</code>)</p>
</li>
<li>
<p><code>write_unkg</code> -- Set to <code>.true.</code> to write the first few Fourier
    components of the periodic parts of the Bloch functions.</p>
</li>
<li>
<p><code>write_dmn</code> -- Set to <code>.true.</code> to construct symmetry-adapted Wannier
    functions. Default is <code>.false.</code></p>
</li>
<li>
<p><code>read_sym</code> -- Set to <code>.true.</code> to customize symmetry operations to be
    used in symmetry-adapted mode. When <code>read_sym = .true.</code>, an
    additional input <code>seedname.sym</code> is required. Default is <code>.false.</code>
    (only relevant if <code>write_dmn=.true.</code>).</p>
</li>
<li>
<p><code>atom_proj</code> -- Set to <code>.true.</code> to use pseudo-atomic orbitals for
    computing <code>amn</code>. Default is <code>.false.</code>.</p>
</li>
<li>
<p><code>atom_proj_exclude</code> -- A list of integers specifying the indices of
    pseudo-atomic projectors to be excluded from computing <code>amn</code>. Used
    only when <code>atom_proj = .true.</code>. No default.</p>
</li>
<li>
<p><code>atom_proj_ext</code> -- Set to <code>.true.</code> to use external pseudo-atomic
    orbitals for computing <code>amn</code>, will read data files from directory
    <code>atom_proj_dir</code>. Used only when <code>atom_proj = .true.</code>. Default is
    <code>.false.</code>.</p>
</li>
<li>
<p><code>atom_proj_dir</code> -- A string specifying the directory for external
    pseudo-atomic projectors. Used only when <code>atom_proj = .true.</code> and
    <code>atom_proj_ext = .true.</code>. No default.</p>
</li>
</ul>
<p>For examples of use, refer to the <code>wannier90</code> Tutorial.</p>
<h4 id="seednamesym"><code>seedname.sym</code><a class="headerlink" href="#seednamesym" title="Permanent link">&para;</a></h4>
<p>If <code>read_sym = .true.</code>, then this additional input file is required for
<code>pw2wannier90.x</code>\
if <code>read_sym = .false.</code>, then this file is written by <code>pw2wannier90.x</code>
(only for reference -- it is not used in subsequent calculations)</p>
<p>The file <code>seedname.sym</code> contains the information of symmetry operations
used to create symmetry-adapted Wannier functions. If
<code>read_sym = .false.</code> (default), <code>pw2wannier90.x</code> uses the full symmetry
recognized by <code>pw.x</code>. If <code>read_sym = .true.</code>, you can specify symmetry
operations to be used in symmetry-adapted mode.</p>
<p>First line: an integer: <code>nsymmetry</code> (number of symmetry operations)</p>
<p>Second line: blank</p>
<p>Then: <code>nsymmetry</code> blocks of data. Each block (separated by a blank line)
consists of four lines. The order of the data in each block is as
follows:</p>
<div class="language-text highlight"><pre><span></span><code>  R(1,1)   R(2,1)   R(3,1)
  R(1,2)   R(2,2)   R(3,2)
  R(1,3)   R(2,3)   R(3,3)
   t(1)     t(2)     t(3)
</code></pre></div>
<p>Here, <span class="arithmatex">\(R\)</span> is the rotational part of symmetry operations (<span class="arithmatex">\(3\times3\)</span>
matrix), and <span class="arithmatex">\(\bf t\)</span> is the fractional translation in the unit of
"<code>alat</code>" (refer the definition of "<code>alat</code>" to the manual of
[pwscf]{.smallcaps}). Both data are given in Cartesian coordinates. The
symmetry operations act on a point <span class="arithmatex">\(\bf r\)</span> as <span class="arithmatex">\({\bf r} R - {\bf t}\)</span>.</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:ref1">
<p>N. Marzari and D. Vanderbilt. Maximally localized generalized wannier functions for composite energy bands. <em>Phys. Rev. B</em>, 56:12847, 1997.&#160;<a class="footnote-backref" href="#fnref:ref1" title="Jump back to footnote 1 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:ref1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:ref2">
<p>I. Souza, N. Marzari, and D. Vanderbilt. Maximally localized wannier functions for entangled energy bands. <em>Phys. Rev. B</em>, 65:035109, 2001.&#160;<a class="footnote-backref" href="#fnref:ref2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:ref3">
<p>A. Damle and L. Lin. Disentanglement via entanglement: A unified method for Wannier localization. <em>ArXiv e-prints</em>, March 2017. URL: <a href="http://adsabs.harvard.edu/abs/2017arXiv170306958D">http://adsabs.harvard.edu/abs/2017arXiv170306958D</a>, <a href="https://arxiv.org/abs/1703.06958">arXiv:1703.06958</a>.&#160;<a class="footnote-backref" href="#fnref:ref3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:ref4">
<p>Junfeng Qiao, Giovanni Pizzi, and Nicola Marzari. Projectability disentanglement for accurate and automated electronic-structure Hamiltonians. <em>npj Comput. Mater.</em>, 9(1):208, Nov 2023. <a href="https://doi.org/10.1038/s41524-023-01146-w">doi:10.1038/s41524-023-01146-w</a>.&#160;<a class="footnote-backref" href="#fnref:ref4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:ref5">
<p>R. Sakuma. Symmetry-adapted wannier functions in the maximal localization procedure. <em>Phys. Rev. B</em>, 87:235109, 2013.&#160;<a class="footnote-backref" href="#fnref:ref5" title="Jump back to footnote 5 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:ref5" title="Jump back to footnote 5 in the text">&#8617;</a><a class="footnote-backref" href="#fnref3:ref5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
</ol>
</div>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-02-22T18:46:26+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-02-22</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-timeago"><span class="timeago" datetime="2024-02-22T18:46:26+00:00" locale="en"></span></span><span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-iso_date">2024-02-22</span>
  </span>

    
    
    
      
  <span class="md-source-file__fact">
    
      
  <span class="md-icon" title="Contributors">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2Z"/></svg>
  </span>
  <span>GitHub</span>

    
    <nav>
      
        <a href="https://github.com/qiaojunfeng" class="md-author" title="@qiaojunfeng">
          
          <img src="https://avatars.githubusercontent.com/u/22841309?v=4&size=72" alt="qiaojunfeng">
        </a>
      
      
      
    </nav>
  </span>

    
  </aside>


  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../code_overview/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Code overview">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Code overview
              </div>
            </div>
          </a>
        
        
          
          <a href="../library_mode/" class="md-footer__link md-footer__link--next" aria-label="Next: Library mode">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Library mode
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2016 - 2024 Wannier90 Developers
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/wannier-developers/wannier90" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.footnote.tooltips", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="../../../js/timeago.min.js"></script>
      
        <script src="../../../js/timeago_mkdocs_material.js"></script>
      
        <script src="../../../javascripts/katex.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
      
    
  </body>
</html>